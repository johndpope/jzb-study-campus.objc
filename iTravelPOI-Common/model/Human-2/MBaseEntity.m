#define __MBaseEntity__PROTECTED__

#import "MBaseEntity.h"

#import "GMTItem.h"
#import "GMPComparable.h"



// *********************************************************************************************************************
#pragma mark -
#pragma mark PRIVATE CONSTANTS and C-Methods definitions
// *********************************************************************************************************************



// *********************************************************************************************************************
#pragma mark -
#pragma mark PRIVATE interface definition
// *********************************************************************************************************************
@interface MBaseEntity () <GMPComparableLocal>


@end


// *********************************************************************************************************************
#pragma mark -
#pragma mark Implementation
// *********************************************************************************************************************
@implementation MBaseEntity



// =====================================================================================================================
#pragma mark -
#pragma mark CLASS methods
// ---------------------------------------------------------------------------------------------------------------------


// =====================================================================================================================
#pragma mark -
#pragma mark Getter/Setter methods
// ---------------------------------------------------------------------------------------------------------------------
- (BOOL) wasSynchronizedValue {
    return ![self.gmID isEqualToString:GM_LOCAL_ID] && ![self.etag isEqualToString:GM_NO_SYNC_ETAG];
}



// =====================================================================================================================
#pragma mark -
#pragma mark General PUBLIC methods
// ---------------------------------------------------------------------------------------------------------------------
- (void) resetEntityWithName:(NSString *)name {

    self.name = name;
    self.gmID = GM_LOCAL_ID;
    self.etag = GM_NO_SYNC_ETAG;
    self.markedAsDeletedValue = false;
    self.modifiedSinceLastSyncValue = true;
    self.published_Date = [NSDate date];
    self.updated_Date = self.published_Date;
}

// ---------------------------------------------------------------------------------------------------------------------
- (void) setAsDeleted:(BOOL) value {
    self.markedAsDeletedValue = value;
}



// =====================================================================================================================
#pragma mark -
#pragma mark PRIVATE methods
// ---------------------------------------------------------------------------------------------------------------------

@end
